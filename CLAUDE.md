# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## å°ˆæ¡ˆæ¦‚è¿°

é€™æ˜¯ä¸€å€‹å‹å‹•æ³•è¦å¸¸è¦‹å•ç­”çˆ¬èŸ²å°ˆæ¡ˆï¼Œç”¨æ–¼è‡ªå‹•åŒ–çˆ¬å–å‹å‹•éƒ¨ã€å‹ä¿å±€ã€è·å®‰ç½²ç­‰æ”¿åºœç¶²ç«™çš„å¸¸è¦‹å•ç­”ï¼Œä¸¦æ•´åˆåˆ° Google Gemini File Search é€²è¡Œ RAG æŸ¥è©¢ã€‚

**å°ˆæ¡ˆä½¿ç”¨ç¹é«”ä¸­æ–‡**ï¼Œæ‰€æœ‰æ–‡æª”ã€è¨»è§£ã€è®Šæ•¸å‘½åè«‹éµå¾ªæ­¤æ…£ä¾‹ã€‚

---

## æœ€æ–°ç‹€æ…‹ (2025-11-21)

### âœ… å·²å®Œæˆ

**çˆ¬èŸ²å¯¦ä½œ**
- å‹å‹•éƒ¨å¸¸è¦‹å•ç­”çˆ¬èŸ² (`src/crawlers/mol_faq.py`) - 383 ç­†
- å‹ä¿å±€å¸¸è¦‹å•ç­”çˆ¬èŸ² (`src/crawlers/bli_faq.py`) - 987 ç­†
- è·å®‰ç½²å¸¸è¦‹å•ç­”çˆ¬èŸ² (`src/crawlers/osha_faq.py`) - 124 ç­†ï¼ˆæ”¯æ´å¤šå±¤çµæ§‹ï¼‰
- **ç¸½è¨ˆ: 1,494 ç­† FAQ**

**è³‡æ–™è™•ç†**
- Plain Text å„ªåŒ–å™¨ (`src/processor/faq_plaintext_optimizer.py`)
- å„ªåŒ–å¾Œæª”æ¡ˆ: `data/plaintext_optimized/faq_individual/` (6.3 MB)

**Gemini ä¸Šå‚³**
- ä¸Šå‚³è…³æœ¬ (`scripts/upload_faq_to_gemini.py`)
- File Search Store: `fileSearchStores/laborfaq-ich1zaoo2nmw`
- Store åç¨±: `labor-faq`
- ä¸Šå‚³é€²è¡Œä¸­ (é è¨ˆ 3-4 å°æ™‚å®Œæˆ)

**æŸ¥è©¢å‰å°**
- å°ˆæ¡ˆ: `~/Projects/Labor-FAQ-Deploy`
- GitHub: `git@github.com:dev-bitpod-cc/labor-faq.git`
- å·²æ¨é€åˆ° GitHubï¼Œå¾…éƒ¨ç½²åˆ° Streamlit Cloud

### â³ é€²è¡Œä¸­
- Gemini ä¸Šå‚³ (1,494 ç­†ï¼Œç´„ 6.6% å®Œæˆ)

### â­ï¸ å¾…å®Œæˆ
- Streamlit Cloud éƒ¨ç½²
- æŸ¥è©¢æ•ˆæœé©—è­‰

---

## è³‡æ–™ä¾†æº

| ç¶²ç«™ | è³‡æ–™é‡ | ç‹€æ…‹ | å‚™è¨» |
|------|--------|------|------|
| å‹å‹•éƒ¨å¸¸è¦‹å•ç­” (MOL) | 383 ç­† | âœ… å®Œæˆ | è¡¨æ ¼å¼åˆ—è¡¨ï¼Œ39 é  |
| å‹å‹•éƒ¨å‹å·¥ä¿éšªå±€ (BLI) | 987 ç­† | âœ… å®Œæˆ | æ¨¹ç‹€çµæ§‹ï¼Œéè¿´çˆ¬å– |
| è·æ¥­å®‰å…¨è¡›ç”Ÿç½² (OSHA) | 124 ç­† | âœ… å®Œæˆ | å¤šå±¤åˆ†é¡çµæ§‹ |
| ~~å¥ä¿ç½²å¸¸è¦‹å•ç­”~~ | - | âŒ æ”¾æ£„ | Cloudflare é˜»æ“‹ |

**ç¸½è¨ˆ**: **1,494 ç­†**å‹å‹•æ³•è¦å¸¸è¦‹å•ç­”

---

## æ ¸å¿ƒæ¶æ§‹

### æ¨¡çµ„åŒ–è¨­è¨ˆ

å°ˆæ¡ˆæ¡ç”¨**å¯æ“´å……çš„æ¨¡çµ„åŒ–æ¶æ§‹**ï¼Œè¨­è¨ˆç›®æ¨™æ˜¯æ”¯æ´å¤šç¨®è³‡æ–™æºï¼ˆå‹å‹•éƒ¨/å‹ä¿å±€/è·å®‰ç½²ï¼‰ï¼š

```
BaseLaborCrawler (æŠ½è±¡åŸºé¡)
    â”œâ”€â”€ MOLFaqCrawler (å‹å‹•éƒ¨å¸¸è¦‹å•ç­”)
    â”œâ”€â”€ BLIFaqCrawler (å‹ä¿å±€å¸¸è¦‹å•ç­”)
    â””â”€â”€ OSHAFaqCrawler (è·å®‰ç½²å¸¸è¦‹å•ç­”)
```

### é—œéµè¨­è¨ˆæ¨¡å¼

1. **æŠ½è±¡åŸºé¡æ¨¡å¼** (`src/crawlers/base.py`)
   - æä¾›é€šç”¨çš„ HTTP è«‹æ±‚ã€é‡è©¦é‚è¼¯ã€éŒ¯èª¤è™•ç†
   - å­é¡åªéœ€å¯¦ä½œä¸‰å€‹æ–¹æ³•: `get_list_url()`, `parse_list_page()`, `parse_detail_page()`
   - åŒ…å«è‡ªå‹•é‡è©¦æ©Ÿåˆ¶ (`fetch_with_retry`) å’Œè«‹æ±‚çµ±è¨ˆ

2. **JSONL ä¸²æµå„²å­˜** (`src/storage/jsonl_handler.py`)
   - ä½¿ç”¨ JSONL æ ¼å¼ï¼ˆæ¯è¡Œä¸€å€‹ JSONï¼‰æ”¯æ´å¤§é‡è³‡æ–™
   - æä¾›ä¸²æµè®€å¯« (`stream_read`) é¿å…è¨˜æ†¶é«”æº¢å‡º
   - æ”¯æ´å¢é‡æ›´æ–° (`get_last_item`, `append_item`)

3. **é›™ç´¢å¼•ç³»çµ±** (`src/storage/index_manager.py`)
   - **index.json**: æä¾›æŒ‰æ—¥æœŸã€ä¾†æºã€åˆ†é¡çš„å¿«é€ŸæŸ¥è©¢
   - **metadata.json**: è¨˜éŒ„ç¸½ç­†æ•¸ã€æ—¥æœŸç¯„åœã€æœ€å¾Œçˆ¬å–æ™‚é–“
   - å¢é‡æ›´æ–°æ™‚åªæ›´æ–°æ–°å¢éƒ¨åˆ†ï¼Œä¸éœ€é‡å»ºå…¨éƒ¨ç´¢å¼•

4. **Plain Text å„ªåŒ–å™¨** (`src/processor/labor_plaintext_optimizer.py`)
   - åŸºæ–¼ FSC å°ˆæ¡ˆé©—è­‰çš„æœ€ä½³å¯¦è¸
   - Plain Text æ¯” Markdown æ•ˆæœå¥½ **40-60%**
   - ç§»é™¤ç¶²é é›œè¨Šï¼Œä¿ç•™èªç¾©å¯†åº¦é«˜çš„å…§å®¹

---

## è³‡æ–™çµæ§‹

### çˆ¬å–åŸå§‹è³‡æ–™æ ¼å¼

```python
{
    'id': 'mol_faq_20250821_0001',        # è‡ªå‹•ç”Ÿæˆ (source_faq_date_index)
    'source': 'mol',                      # mol|bli|osha
    'category': 'å‹å‹•å¥‘ç´„',                # ä¸»åˆ†é¡
    'subcategory': 'å¥‘ç´„èªå®š',             # æ¬¡åˆ†é¡
    'question': 'æ€éº¼åˆ¤æ–·æ˜¯å¦ç‚ºå‹å‹•å¥‘ç´„ï¼Ÿ',
    'answer': {
        'text': '...',                    # ç´”æ–‡å­—
        'html': '...'                     # HTMLï¼ˆä¿ç•™æ ¼å¼ï¼‰
    },
    'related_laws': [                     # ç›¸é—œæ³•è¦
        {'name': 'å‹å‹•å¥‘ç´„èªå®šæŒ‡å°åŸå‰‡', 'url': '...'}
    ],
    'metadata': {
        'department': 'å‹å‹•é—œä¿‚å¸',        # ç™¼å¸ƒå–®ä½
        'published_date': '2025-08-13',   # ç™¼å¸ƒæ—¥æœŸ
        'updated_date': '2025-09-03',     # æ›´æ–°æ—¥æœŸ
        'views': 1234                     # é»é–±æ•¸ï¼ˆå¯é¸ï¼‰
    },
    'detail_url': 'https://...',          # åŸå§‹ç¶²å€
    'crawled_at': '2025-11-21T12:00:00'   # çˆ¬å–æ™‚é–“
}
```

### Plain Text å„ªåŒ–æ ¼å¼

```
å•é¡Œ: æ€éº¼åˆ¤æ–·æ˜¯å¦ç‚ºå‹å‹•å¥‘ç´„ï¼Ÿå‹è³‡é›™æ–¹èªçŸ¥ä¸åŒï¼Ÿè¦æ€éº¼è¾¦ï¼Ÿ
ä¾†æº: å‹å‹•éƒ¨ / å‹å‹•å¥‘ç´„ / å¥‘ç´„èªå®š
æ›´æ–°æ—¥æœŸ: 2025-09-03

ç­”æ¡ˆ:
å‹å‹•å¥‘ç´„èªå®šæŒ‡å°åŸå‰‡åŠå‹å‹•å¥‘ç´„å¾å±¬æ€§åˆ¤æ–·æª¢æ ¸è¡¨ï¼ˆ108å¹´11æœˆ19æ—¥è¨‚å®šï¼‰ï¼Œ
å·²å…¬å‘Šæ–¼å‹å‹•éƒ¨å‹å‹•æ³•ä»¤æŸ¥è©¢ç³»çµ±...

ç›¸é—œæ³•è¦:
- å‹å‹•å¥‘ç´„èªå®šæŒ‡å°åŸå‰‡
- å‹å‹•å¥‘ç´„å¾å±¬æ€§åˆ¤æ–·æª¢æ ¸è¡¨
```

---

## ç¶²ç«™ç‰¹æ®Šè™•ç†

### 1. å‹å‹•éƒ¨å¸¸è¦‹å•ç­”

**URL**: https://www.mol.gov.tw/1607/28690/2282/nodeListSearch

**åˆ—è¡¨é çµæ§‹**:
- è¡¨æ ¼å¼åˆ—è¡¨ï¼ˆ`<table>` æ¨™ç±¤ï¼‰
- åˆ†é æ©Ÿåˆ¶ï¼ˆ383 ç­† / 39 é ï¼Œæ¯é  10 ç­†ï¼‰
- æ¬„ä½: é …æ¬¡ã€æ¨™é¡Œã€æ¬¡åˆ†é¡ã€ç™¼å¸ƒå–®ä½ã€ç™¼å¸ƒæ—¥æœŸã€æ›´æ–°æ—¥æœŸã€é»é–±äººæ°£

**è©³ç´°é çµæ§‹**:
- å•é¡Œæ¨™é¡Œ: `<h2>` æ¨™ç±¤
- ç­”æ¡ˆå…§å®¹: æ®µè½æ–‡å­—ï¼ŒåŒ…å«è¶…é€£çµ
- Metadata: ç™¼å¸ƒå–®ä½ã€ç™¼å¸ƒæ—¥æœŸã€æ›´æ–°æ—¥æœŸï¼ˆåº•éƒ¨ï¼‰

**çˆ¬å–ç­–ç•¥**:
1. è§£æè¡¨æ ¼è¡Œï¼Œæå–æ¨™é¡Œå’Œ URL
2. è™•ç†åˆ†é ï¼ˆ39 é ï¼‰
3. é»æ“Šæ¨™é¡Œé€²å…¥è©³ç´°é 
4. æå–å•é¡Œã€ç­”æ¡ˆã€metadata

### 2. å‹ä¿å±€å¸¸è¦‹å•ç­”

**URL**: https://www.bli.gov.tw/0100603.html

**ç›®éŒ„é çµæ§‹**:
- æ¨¹ç‹€çµæ§‹ï¼ˆ`<ul>/<li>` åµŒå¥—ï¼‰
- ä¸»åˆ†é¡ â†’ æ¬¡åˆ†é¡ â†’ ç´°åˆ†é¡ â†’ å•ç­”
- ç„¡åˆ†é ï¼ˆå…¨éƒ¨å…§å®¹ä»¥æ¨¹ç‹€åˆ—è¡¨å‘ˆç¾ï¼‰

**è©³ç´°é çµæ§‹**:
- å•é¡Œæ¨™é¡Œ: `<h1>` æ¨™ç±¤
- ç­”æ¡ˆå…§å®¹: åŒ…å« `<h3>` æ¬¡æ¨™é¡Œã€ã€Œå°æé†’ã€å€å¡Š
- ç›¸é—œé€£çµ: è¶…é€£çµå½¢å¼
- æ›´æ–°æ—¥æœŸ: ã€Œæœ€å¾Œæ›´æ–°æ—¥æœŸï¼šYYYY-MM-DDã€ï¼ˆåº•éƒ¨ï¼‰

**çˆ¬å–ç­–ç•¥**:
1. éè¿´è§£ææ¨¹ç‹€ `<ul>/<li>` çµæ§‹
2. è¨˜éŒ„åˆ†é¡è·¯å¾‘ï¼ˆä¸»åˆ†é¡/æ¬¡åˆ†é¡/ç´°åˆ†é¡ï¼‰
3. æå–æ‰€æœ‰å•ç­”é€£çµ
4. çˆ¬å–è©³ç´°é ï¼Œæå–å•é¡Œã€ç­”æ¡ˆã€ç›¸é—œæ³•è¦

### 3. è·å®‰ç½²å¸¸è¦‹å•ç­”

**URL**: https://www.osha.gov.tw/48110/48461/48463/nodelist

**ç›®éŒ„é çµæ§‹**:
- 10 å€‹ä¸»åˆ†é¡ï¼ˆè·æ¥­å®‰å…¨è¡›ç”Ÿç®¡ç†ã€ä½œæ¥­ç’°å¢ƒç›£æ¸¬ç­‰ï¼‰
- æ¯å€‹åˆ†é¡é€£çµåˆ°ç¨ç«‹åˆ—è¡¨é 

**åˆ—è¡¨é çµæ§‹**:
- æ¨™é¡Œï¼ˆè¶…é€£çµï¼‰
- ç™¼å¸ƒå–®ä½ã€æ›´æ–°/ç™¼å¸ƒæ—¥æœŸã€é»é–±æ¬¡æ•¸
- åˆ†é æ©Ÿåˆ¶ï¼ˆå¦‚ï¼š14 ç­† / 2 é ï¼‰

**çˆ¬å–ç­–ç•¥**:
1. æå– 10 å€‹åˆ†é¡é€£çµ
2. é€²å…¥æ¯å€‹åˆ†é¡çš„åˆ—è¡¨é 
3. è™•ç†åˆ†é 
4. çˆ¬å–è©³ç´°é ï¼ˆçµæ§‹å¾…é€²ä¸€æ­¥åˆ†æï¼‰

---

## å¢é‡æ›´æ–°æ©Ÿåˆ¶

```python
from src.storage.jsonl_handler import JSONLHandler
from src.storage.index_manager import IndexManager

# 1. è®€å–ä¸Šæ¬¡çˆ¬å–æ—¥æœŸ
metadata = index_mgr.load_metadata('mol_faq')
last_date = metadata['last_crawl_date']

# 2. åªçˆ¬å–æ–°è³‡æ–™ï¼ˆupdated_date > last_crawl_dateï¼‰
new_items = crawler.crawl_since(last_date)

# 3. è¿½åŠ å„²å­˜ï¼ˆappend modeï¼‰
storage.write_items('mol_faq', new_items, mode='a')

# 4. æ›´æ–°ç´¢å¼•ï¼ˆåªæ›´æ–°æ–°å¢éƒ¨åˆ†ï¼‰
index_mgr.update_index('mol_faq', new_items)
```

---

## RAG å„ªåŒ–ç­–ç•¥

### Plain Text æ ¼å¼å„ªå‹¢

åŸºæ–¼ **FSC å°ˆæ¡ˆ**çš„å¯¦æ¸¬çµæœï¼š
- âœ… Plain Text æ¯” Markdown æ•ˆæœå¥½ **40-60%**
- âœ… èªç¾©å¯†åº¦é«˜ï¼Œç„¡æ ¼å¼å™ªéŸ³
- âœ… Gemini File Search åŸç”Ÿæ”¯æ´ï¼Œæª¢ç´¢æº–ç¢º

### å„ªåŒ–åŸå‰‡

**ä¿ç•™**:
- âœ… å•é¡Œæ¨™é¡Œï¼ˆä¸»è¦æª¢ç´¢ç›®æ¨™ï¼‰
- âœ… ç­”æ¡ˆå…§å®¹ï¼ˆèªç¾©è£œå……ï¼‰
- âœ… ç›¸é—œæ³•è¦ï¼ˆå»¶ä¼¸è³‡è¨Šï¼‰
- âœ… ä¾†æº/åˆ†é¡/æ—¥æœŸï¼ˆç¯©é¸æ¢ä»¶ï¼‰

**ç§»é™¤**:
- âŒ HTML æ¨™ç±¤ã€CSS class
- âŒ é»é–±æ•¸ã€ç™¼å¸ƒå–®ä½ï¼ˆå°æª¢ç´¢ç„¡ç”¨ï¼‰
- âŒ éºµåŒ…å±‘ã€å°èˆªåˆ—
- âŒ ç¶²é é›œè¨Šï¼ˆFacebookã€Lineã€å‹å–„åˆ—å°ç­‰ï¼‰

### é æœŸæŸ¥è©¢æ•ˆæœ

**ç”¨æˆ¶æŸ¥è©¢**: ã€Œå…¬å¸ä¸å¹«æˆ‘ä¿å‹ä¿æ€éº¼è¾¦ã€

**æª¢ç´¢çµæœ**:
- å‹ä¿å±€å•ç­”ã€Œå—åƒ±å‹å·¥è¦æ±‚å…¬å¸ä¸è¦å¹«ä»–è¾¦ç†å‹ä¿ï¼Œæƒ³ç¹¼çºŒåœ¨å·¥æœƒåŠ ä¿ï¼Œå¯ä»¥å—ï¼Ÿã€
- å‹å‹•éƒ¨å•ç­”ã€Œé›‡ä¸»æœªä¾è¦å®šç‚ºå“¡å·¥æŠ•ä¿å‹ä¿ï¼Œæœ‰ä½•ç½°å‰‡ï¼Ÿã€

---

## é…ç½®ç³»çµ±

### config/sources.yaml

å®šç¾©æ‰€æœ‰è³‡æ–™æºçš„é…ç½®ï¼š

```yaml
sources:
  mol_faq:
    name: "å‹å‹•éƒ¨å¸¸è¦‹å•ç­”"
    list_url: "https://www.mol.gov.tw/1607/28690/2282/nodeListSearch"
    base_url: "https://www.mol.gov.tw"
    total_pages: 39
    items_per_page: 10

  bli_faq:
    name: "å‹ä¿å±€å¸¸è¦‹å•ç­”"
    list_url: "https://www.bli.gov.tw/0100603.html"
    base_url: "https://www.bli.gov.tw"
    structure: "tree"

  osha_faq:
    name: "è·å®‰ç½²å¸¸è¦‹å•ç­”"
    list_url: "https://www.osha.gov.tw/48110/48461/48463/nodelist"
    base_url: "https://www.osha.gov.tw"
    categories: 10
```

### config/crawler.yaml

çˆ¬èŸ²è¡Œç‚ºé…ç½®ï¼š

```yaml
http:
  timeout: 30
  interval: 2.0          # è«‹æ±‚é–“éš”ï¼ˆç§’ï¼‰
  retries: 3
  user_agent: "Mozilla/5.0 ..."

storage:
  format: "jsonl"
  encoding: "utf-8"

gemini:
  store_name: "labor-faqs"
  chunk_size: 2048
  delay: 2.0             # ä¸Šå‚³å»¶é²ï¼ˆç§’ï¼‰
```

---

## æ“´å……æ–°è³‡æ–™æº

æ–°å¢çˆ¬èŸ²æ­¥é©Ÿï¼š

1. åœ¨ `config/sources.yaml` æ–°å¢è³‡æ–™æºé…ç½®
2. å»ºç«‹ `src/crawlers/new_source.py` ç¹¼æ‰¿ `BaseLaborCrawler`
3. å¯¦ä½œä¸‰å€‹å¿…è¦æ–¹æ³•:
   - `get_list_url(page)`: URL ç”Ÿæˆé‚è¼¯
   - `parse_list_page(html)`: åˆ—è¡¨é è§£æ
   - `parse_detail_page(html, list_item)`: è©³ç´°é è§£æ
4. è³‡æ–™è‡ªå‹•å„²å­˜åˆ° `data/new_source/`
5. ç´¢å¼•è‡ªå‹•å»ºç«‹

---

## åŠŸèƒ½ç‹€æ…‹

### âœ… å·²å®Œæˆ
- [x] å‹å‹•éƒ¨å¸¸è¦‹å•ç­”çˆ¬èŸ² (`src/crawlers/mol_faq.py`) - 383 ç­†
- [x] å‹ä¿å±€å¸¸è¦‹å•ç­”çˆ¬èŸ² (`src/crawlers/bli_faq.py`) - 987 ç­†
- [x] è·å®‰ç½²å¸¸è¦‹å•ç­”çˆ¬èŸ² (`src/crawlers/osha_faq.py`) - 124 ç­†
- [x] Plain Text å„ªåŒ–å™¨ (`src/processor/faq_plaintext_optimizer.py`)
- [x] Gemini ä¸Šå‚³åŠŸèƒ½ (`scripts/upload_faq_to_gemini.py`)
- [x] æŸ¥è©¢å‰å° Streamlit (`~/Projects/Labor-FAQ-Deploy`)

### â³ é€²è¡Œä¸­
- [ ] Gemini ä¸Šå‚³ (1,494 ç­†)
- [ ] Streamlit Cloud éƒ¨ç½²

### ğŸ“‹ å¾…å®Œæˆ
- [ ] å¢é‡æ›´æ–°æ©Ÿåˆ¶
- [ ] ç›¸é—œæ³•è¦é€£çµæå–èˆ‡æ¨™æº–åŒ–
- [ ] å•ç­”é—œè¯åˆ†æ

---

## é™¤éŒ¯å·¥å…·

### æŸ¥çœ‹ JSONL å…§å®¹

```python
from src.storage.jsonl_handler import JSONLHandler
storage = JSONLHandler()

# è®€å–æ‰€æœ‰
items = storage.read_all('mol_faq')

# ä¸²æµè®€å–ï¼ˆå¤§æª”æ¡ˆï¼‰
for item in storage.stream_read('mol_faq'):
    print(item['question'])

# å–å¾—æœ€å¾Œä¸€ç­†
last = storage.get_last_item('mol_faq')
```

### æŸ¥è©¢ç´¢å¼•

```python
from src.storage.index_manager import IndexManager
index_mgr = IndexManager()

# å–å¾—ç‰¹å®šæ—¥æœŸçš„è¡Œè™Ÿ
line_numbers = index_mgr.get_items_by_date('mol_faq', '2025-09-03')

# å–å¾—ç‰¹å®šåˆ†é¡çš„çµ±è¨ˆ
stats = index_mgr.get_items_by_category('mol_faq', 'å‹å‹•å¥‘ç´„')
```

---

## æ—¥èªŒç³»çµ±

å°ˆæ¡ˆä½¿ç”¨ `loguru` é€²è¡Œæ—¥èªŒè¨˜éŒ„ï¼š

```python
from loguru import logger

# è¨­å®šæ—¥èªŒ
logger.add(
    "logs/labor_crawler.log",
    rotation="100 MB",
    retention="30 days",
    level="DEBUG"
)

# ä½¿ç”¨æ—¥èªŒ
logger.info("é–‹å§‹çˆ¬å–å‹å‹•éƒ¨å¸¸è¦‹å•ç­”")
logger.debug(f"è™•ç†ç¬¬ {page} é ")
logger.error(f"çˆ¬å–å¤±æ•—: {e}")
```

æ—¥èªŒæª”æ¡ˆä½ç½®: `logs/labor_crawler.log`

---

## é‡è¦åƒè€ƒæ–‡ä»¶

- **WEBSITE_ANALYSIS.md**: å®Œæ•´çš„ç¶²ç«™çµæ§‹åˆ†ææ–‡ä»¶ï¼ˆ4,600+ å­—ï¼‰
- **SUMMARY.md**: å°ˆæ¡ˆç¸½çµèˆ‡å¯¦ä½œè¨ˆåŠƒï¼ˆ1,500+ å­—ï¼‰
- **README.md**: ä½¿ç”¨èªªæ˜å’Œå¿«é€Ÿé–‹å§‹

---

## å¸¸è¦‹å•é¡Œ

### Q: ç‚ºä»€éº¼ä¸çˆ¬å–å¥ä¿ç½²å¸¸è¦‹å•ç­”ï¼Ÿ
A: å¥ä¿ç½²ç¶²ç«™ä½¿ç”¨ Cloudflare é˜²è­·ï¼Œé˜»æ“‹æ‰€æœ‰è‡ªå‹•åŒ–è«‹æ±‚ã€‚æŠ€è¡“æˆæœ¬éé«˜ï¼Œå·²æ±ºå®šæ”¾æ£„æ­¤è³‡æ–™æºã€‚

### Q: ç‚ºä»€éº¼æ²’æœ‰é™„ä»¶ä¸‹è¼‰åŠŸèƒ½ï¼Ÿ
A: åˆ†æé¡¯ç¤ºï¼Œæ‰€æœ‰å•ç­”å‡ç‚ºç´”æ–‡å­—å…§å®¹ï¼Œç„¡å¯¦è³ªé™„ä»¶ã€‚å´é‚Šæ¬„çš„è¡¨å–®ä¸‹è¼‰éå•ç­”å°ˆå±¬ï¼Œè™•ç†ç„¡æ„ç¾©ã€‚

### Q: å¦‚ä½•èˆ‡ FSC å°ˆæ¡ˆæ•´åˆæŸ¥è©¢ï¼Ÿ
A: æœªä¾†å¯å»ºç«‹çµ±ä¸€çš„æŸ¥è©¢ä»‹é¢ï¼ŒGemini API æ”¯æ´åŒæ™‚æŸ¥è©¢æœ€å¤š 5 å€‹ File Search Storesã€‚ç¯„ä¾‹ï¼š
```python
file_search_store_names = [
    'fsc-penalties',
    'fsc-law-interpretations',
    'fsc-announcements',
    'labor-faqs'
]
```

---

## é–‹ç™¼æŒ‡å¼•

### å‘½åè¦ç¯„
- æª”æ¡ˆåç¨±: `snake_case`ï¼ˆå¦‚ï¼š`mol_faq.py`ï¼‰
- é¡åˆ¥åç¨±: `PascalCase`ï¼ˆå¦‚ï¼š`MOLFaqCrawler`ï¼‰
- å‡½æ•¸åç¨±: `snake_case`ï¼ˆå¦‚ï¼š`parse_list_page`ï¼‰
- è®Šæ•¸åç¨±: ç¹é«”ä¸­æ–‡æˆ–è‹±æ–‡ï¼ˆå¦‚ï¼š`question`, `ç­”æ¡ˆ`ï¼‰

### è¨»è§£è¦ç¯„
- æ¨¡çµ„è¨»è§£: ç¹é«”ä¸­æ–‡ï¼Œèªªæ˜æ¨¡çµ„åŠŸèƒ½
- å‡½æ•¸è¨»è§£: ç¹é«”ä¸­æ–‡ docstringï¼Œèªªæ˜åƒæ•¸ã€è¿”å›å€¼
- è¡Œå…§è¨»è§£: ç¹é«”ä¸­æ–‡ï¼Œèªªæ˜é—œéµé‚è¼¯

### Git æäº¤è¦ç¯„
- ä½¿ç”¨ç¹é«”ä¸­æ–‡
- æ ¼å¼: `[é¡å‹] ç°¡çŸ­æè¿°`
- é¡å‹: `feat`, `fix`, `docs`, `refactor`, `test`
- ç¯„ä¾‹: `[feat] æ–°å¢å‹å‹•éƒ¨å¸¸è¦‹å•ç­”çˆ¬èŸ²`

---

**IMPORTANT**: æœ¬å°ˆæ¡ˆå®Œå…¨åŸºæ–¼ **FSC çˆ¬èŸ²å°ˆæ¡ˆ**çš„æˆåŠŸæ¶æ§‹å’Œç¶“é©—ã€‚æ‰€æœ‰æ ¸å¿ƒæ¨¡çµ„ï¼ˆ`BaseCrawler`, `JSONLHandler`, `IndexManager`, `PlainTextOptimizer`ï¼‰å‡å¯ç›´æ¥åƒè€ƒ FSC å°ˆæ¡ˆå¯¦ä½œã€‚
